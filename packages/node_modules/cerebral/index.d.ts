import { DevToolsInterface } from "./devtools"
import { FunctionTree } from 'function-tree'

interface ControllerOptions {
  state?: any
  signals?: any
  providers?: any[]
  modules?: any
  devtools?: DevToolsInterface
  options?: any
}

export interface ControllerInstance extends FunctionTree {
  flush(force: boolean): void
  updateComponents(changes: any[], force: boolean): void
  getModel(): any
  getState(): any
  runSignal(name: string, signal: any[], payload: any): void
  getSignal(path: string): Function
  addModule(path: string, module: any): void
  removeModule(path: string): void
}
export function Controller(config?: ControllerOptions): ControllerInstance

export interface ComputeInstance {
  getValue(getters: any): any
}

export function compute(...args: any[]): ComputeInstance
export function provide(name: string, provider: any): Function

export { sequence, parallel } from 'function-tree'
