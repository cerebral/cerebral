import { ContextualValue } from 'function-tree'
import { props, signal, state, string } from '../../tags'

interface PropsMap {
  [ key: string ]: ContextualValue
}

const deps: PropsMap = {
  postId: props`${props`type`}Id`,
  id: props<string>(['', 'Id'], props`type`),

  logout: signal`auth.logout`,
  click: signal`auth.${props`action`}`,
  clack: signal<() => void>(['foo.bar']),

  loggedIn: state`user.loggedIn`,
  connected: state<boolean>(['network.connected']),
  admin: state(['user.isAdmin']),
  name: state`users.${props`id`}.name`,
  title: state<string>(['posts.'], props`postId`),

  random: string(['', 'Id'], props`type`),
  randomString: string`random${props`type`}`,
}
