import { compute, Computed, ValueResolver } from 'cerebral'
import { state, Tag } from 'cerebral/tags'

export const someComputed: Computed = compute(
  state`app.ready`,
  (ready: boolean, get: ValueResolver) => ({
    name: get(state`app.name`) + (ready ? ' is ready' : '')
  })
)

const foo: Tag<string> = state`app.name`

export const otherComputed: Computed = compute<boolean, { name: string } >(
  state`app.ready`,
  (ready, get) => ({
    name: get(foo) + (ready ? ' is ready' : '') + get<string>(state`foo.bar`)
  })
)
