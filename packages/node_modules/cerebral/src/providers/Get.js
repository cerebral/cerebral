import Provider from '../Provider'
import { isComputedValue } from '../utils'

export default Provider(
  (context) => (tag, overrides) => {
    const value = context.resolve.value(tag)
    if (isComputedValue(value)) {
      return value.getValue(overrides || context.props)
    }

    return value
  },
  {
    wrap: false,
  }
)
