import Provider from '../Provider'
import { Compute } from '../Compute'

export default Provider(
  (context) => (tag, overrides) => {
    const value = context.resolve.value(tag)
    if (value instanceof Compute) {
      return value.getValue(overrides || context.props)
    }

    return value
  },
  {
    wrap: false,
  }
)
