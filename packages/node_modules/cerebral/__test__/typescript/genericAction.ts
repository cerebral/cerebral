import { Action, ActionContext } from '../..';
import { debounce, when, set } from './../../operators';
import { props, state } from './../../tags';

interface Props {
  userName: string
  loggedIn: boolean
}

export const typedAction: Action<{ props: Props }> = ({ state, props }) => {
  const message = `Hello ${props.loggedIn ? props.userName : 'stranger'} !`
  state.set('app.message', message)
  return { foo: 'bar' }
}

export function otherTypedAction ( { state, props }: ActionContext<{ props: Props }>  ) {
  const message = `Hello ${props.loggedIn ? props.userName : 'stranger'} !`
  state.set('app.message', message)
  return { foo: 'bar' }
}

// Works without params and `state` is not any
export function simpleAction ( { state, props }: ActionContext ) {
  const message = `Hello ${props.loggedIn ? props.userName : 'stranger'} !`
  state.set('app.message', message)
  return { foo: 'bar' }
}