function removeStorageFactory(key) {
  function removeStorage({ storage, resolve, path }) {
    if (storage.isAsync) {
      return storage
        .remove(resolve.value(key))
        .then(value => path.success({ value, key }))
        .catch(path.error)
    }
    return {
      value: storage.remove(resolve.value(key)),
    }
  }

  return removeStorage
}

export default removeStorageFactory
