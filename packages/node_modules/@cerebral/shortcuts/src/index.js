import { Module } from 'cerebral'
import shortway from 'shortway'

export default function(shortcuts) {
  return Module((module) => {
    module.controller.on('initialized', () => {
      Object.keys(shortcuts).forEach((shortcut) => {
        const registeredShortcut = shortway(shortcut, (event) => {
          event.preventDefault()
          module.controller.getSignal(shortcuts[shortcut])({})
        })
        document.addEventListener('keydown', registeredShortcut)
      })
    })

    return {}
  })
}
