import { createReturnPromise } from '../helpers'
import { convertObjectWithTemplates } from 'cerebral/tags'

function updateFactory(updates) {
  function update({ firebase, path, resolve }) {
    return createReturnPromise(
      firebase.update(
        convertObjectWithTemplates(updates, resolve, 'firebase.update')
      ),
      path
    )
  }

  return update
}

export default updateFactory
