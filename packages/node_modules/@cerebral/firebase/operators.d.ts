import { Tag } from 'cerebral/tags'

type Action = any

export interface OnChildOptions {
  endAt?: number
  equalTo?: number
  limitToFirst?: number
  limitTolast?: number
  orderByChild?: string
  orderByKey?: boolean
  orderByValue?: boolean
  payload?: any
  startAt?: number
}

export interface OnValueOptions {
  payload?: any
}

export interface PutOptions {
  progress?: Tag
}

export interface TransformFunction {
  (currentData: any): any
}

export function cancelOnDisconnect(): Action
export function createUserWithEmailAndPassword(email: string | Tag, password: string | Tag): Action
export function deleteFile(path: string | Tag, filename: string | Tag): Action
export function deleteUser(password: string | Tag): Action
export function getUser(): Action
export function linkWithFacebook (options: { redirect?: string | Tag, scopes: string | Tag[] }): Action
export function linkWithGithub (options: { redirect?: string | Tag }): Action
export function linkWithGoogle (options: { redirect?: string | Tag }): Action
export function off(path: string | Tag, event: string | Tag): Action
export function onChildAdded(path: string | Tag, signal: string | Tag, opts: OnChildOptions): Action
export function onChildChanged(path: string | Tag, signal: string | Tag, opts: OnChildOptions): Action
export function onChildRemoved(path: string | Tag, signal: string | Tag, opts: OnChildOptions): Action
export function onValue(path: string | Tag, signal: string | Tag, opts: OnValueOptions): Action
export function push(path: string | Tag, child: any): Action
export function put(path: string | Tag, file: any, opts?: PutOptions): Action
export function remove(path: string | Tag): Action
export function sendPasswordResetEmail(email: string | Tag): Action
export function set(path: string | Tag, value: any): Action
export function setOnDisconnect(localPath, value: any): Action
export function signInAnonymously(): Action
export function signInWithCustomToken(token: string | Tag): Action
export function signInWithEmailAndPassword(email: string | Tag, password: string | Tag): Action
export function signInWithFacebook(opts: { redirect?: boolean, scopes: string | Tag[] }): Action
export function signInWithGithub(opts: { redirect?: boolean, scopes: string | Tag[] }): Action
export function signInWithGoogle(opts: { redirect?: boolean, scopes: string | Tag[] }): Action
export function signOut(): Action
export function task(taskName: string | Tag, payload: any): Action
export function transaction(path: string | Tag, transformer: TransformFunction): Action
export function update(path: string | Tag, partial: any): Action
export function value(path: string | Tag): Action
