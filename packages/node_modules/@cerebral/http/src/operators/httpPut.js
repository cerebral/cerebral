import { processResponse } from '../utils'
import { convertObjectWithTemplates } from 'cerebral/tags'

function httpPutFactory(url, body = {}, options) {
  function httpPut({ http, path, resolve }) {
    return processResponse(
      http.put(
        resolve.value(url),
        convertObjectWithTemplates(body, resolve, 'http.httpPut'),
        options
      ),
      path
    )
  }

  return httpPut
}

export default httpPutFactory
