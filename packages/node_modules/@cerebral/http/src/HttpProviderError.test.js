/* eslint-env mocha */
import { HttpProviderError } from './'
import assert from 'assert'

describe('errors', () => {
  it('should have base error', () => {
    const error = new HttpProviderError(200, { foo: 'bar' }, 'foo', 'msg')

    assert.ok(error instanceof Error)
    assert.ok(error.stack)
    assert.equal(error.toJSON().name, 'HttpProviderError')
    assert.equal(error.toJSON().response.status, 200)
    assert.deepEqual(error.toJSON().response.headers, { foo: 'bar' })
    assert.equal(error.toJSON().response.result, 'foo')
    assert.equal(error.toJSON().message, 'msg')
    assert.equal(error.toJSON().response.isAborted, false)
  })
})
