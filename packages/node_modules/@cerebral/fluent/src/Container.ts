import * as React from 'react'
import * as PropTypes from 'prop-types'
import { throwError } from 'cerebral/internal'
import { FluentController } from './'

class Container extends React.Component {
  static propTypes = {
    controller: PropTypes.object.isRequired,
    children: PropTypes.node.isRequired,
  }
  static childContextTypes = {
    controller: PropTypes.object.isRequired,
  }
  props: {
    controller: FluentController
    children: any
  }
  getChildContext() {
    const controller = this.props.controller
    if (!controller) {
      throwError('You are not passing controller to Container')
    }

    return { controller }
  }
  render() {
    return this.props.children
  }
}

export default Container
